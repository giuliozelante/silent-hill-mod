#include <..\object_lods.h>
#include <..\shooting.h>
#include <..\weaponanimid.h>
#include <..\weaponid.h>

// Glock 17

[LOD]{
	[Geometry] ExportData = glock_Lod0.kf2; Distance = WEAPON_LOD_FAR; }

[Animationset]
{
	[Animation] Index = WEAPONANIM_DEFAULT; Filename = glock_Default.kf2;;
	
	[Animation] Index = WEAPONANIM_SHOOT; Filename = glock_Shoot.kf2;
	[Properties]
	{
		[Message] Frame = 0; String = "this->A_Play3DSound ( weapons, Shoot_Glock , \"\");";
		[Message] Frame = 0; String = "this->P_CreateProjectile ( bullet_beretta, 1 );";
		[Message] Frame = 0; String = "this->PS_StartEffect ( Muzzle_Beretta, \"\" );";
		[Message] Frame = 3; String = "this->P_CreateProjectile ( case_9mm, 1 );";
	}

	[Animation] Index = WEAPONANIM_RELOAD; Filename = glock_Reload.kf2;
	[Properties]
	{
		[Message] Frame = 0; String = "this->A_Play3DSound ( weapons, reload_beretta, \"\");";
		[Message] Frame = 3; String = "this->P_CreateProjectile ( clip_glock,1 );";
	}
	
	[Animation] Index = WEAPONANIM_SHOOTEMPTY; Filename = glock_Default.kf2;
	
	[Animation] Index = WEAPONANIM_DROPONDEATH; Filename = glock_Default.kf2;
	[Properties]
	{
		[Message] Frame = 0; String = "this->WS_Hide( " TRUE " );";
		[Message] Frame = 0; String = "this->P_CreateProjectile ( enemy_glock, 1 );";
	}
}

[Attributes]
TwoHandedBones 		= YES;
TwoHandedAnimation 	= NO;
UseMultipleGunBones 	= NO;
ShootDodgeAllowed	= YES;
AutoAimingAllowed 	= YES;
ProjectileOffset	= (0,0.08,0);

SlotIndex 	= SLOTID_GLOCK;
InventoryID 	= INVENTORYID_BERETTA;
WeaponID 	= WEAPONID_GLOCK;

Clipsize 	= GLOCK_CLIPSIZE;
Pocketsize	= BERETTA_POCKETSIZE;

MaximumShootingFrequency 	= GLOCK_MAXSHOOTINGFREQUENCY;
DefaultShootingFrequency 	= GLOCK_SHOOTINGFREQUENCY;
ShootingFrequencyMultiplier	= GLOCK_SLOWMOTIONMULTIPLIER;

ReloadAmount = -1;
UseModeSwitchAnimation = NO;
SidewaysAimingMultiplier = 1.0;

FOVMultiplier = 1.0;
// shakes are only applied when sniper zoom is on
ShakeLength = 0.0;
ShakeStrengthX = 0.0;
ShakeStrengthY = 0.0;
CrouchingShakeLength = 0.0;
CrouchingShakeStrengthX = 0.0;
CrouchingShakeStrengthY = 0.0;
UsesLowerActivationGroup = false;

[CrosshairAttributes]
CastLength		= CROSSHAIR_CASTLENGTH ;
SphereRadius 		= CROSSHAIR_SPHERERADIUS ;
SmallProjectile 	= TRUE ;
ScreenSizeFrontLimit	= CROSSHAIR_SIZEFRONTLIMIT ;
ScreenSizeBackLimit	= CROSSHAIR_SIZEBACKLIMIT ;

[Crosshair] 
{ 
	[Geometry] 
	ExportData = ..\crosshairs\dot.kf2;
}
