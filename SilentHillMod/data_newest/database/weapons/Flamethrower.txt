#include <..\object_lods.h>
#include <..\shooting.h>
#include <..\weaponanimid.h>
#include <..\weaponid.h>

// Flamethrower

[LOD]
{
	[Geometry]
	ExportData = ..\Flamethrower\Flamethrower_Lod0.kf2;
	Distance = WEAPON_LOD_FAR ;
}

[Animationset]
{
	[Animation] Index = WEAPONANIM_DEFAULT; Filename =  ..\Flamethrower\Flamethrower_Default.kf2;
	[Properties]
        {
		//[Message] Frame = 2; String = "this->PS_Starteffect( smoke_candle_flame_1_loop, \"\" );";
		[Message] Frame = 1; String = "this->PS_Starteffect( blue_flame, \"\" );";
	}

	[Animation] Index = WEAPONANIM_SHOOT; Filename =  ..\Flamethrower\Flamethrower_Shoot.kf2;
	[Properties]
        {
		[Message] Frame = 0; String = "this->P_CreateProjectile ( bullet_flamethrower, 1 );";
		[Message] Frame = 1; String = "this->P_CreateProjectile ( bullet_flamethrower, 1 );";
		[Message] Frame = 2; String = "this->P_CreateProjectile ( bullet_flamethrower, 1 );";
		[Message] Frame = 3; String = "this->P_CreateProjectile ( bullet_flamethrower, 1 );";
		[Message] Frame = 0; String = "this->PS_StartEffect ( flamethrower_blue_fire, \"\" );";
		[Message] Frame = 2; String = "this->A_Play3DSound( weapons, Shoot_Flamethrower, \"\");";
	}
	[Animation] Index = WEAPONANIM_RELOAD; Filename =  ..\Flamethrower\Flamethrower_Default.kf2;
	[Properties]
	{
		//[Message] Frame = 0; String = "this->P_CreateProjectile( clip_flamethrower, 1 );";
		[Message] Frame = 0; String = "this->A_Play3DSound ( weapons, reload_jackhammer, \"\");";
	}
	[Animation] Index = WEAPONANIM_SHOOTEMPTY; Filename =  ..\Flamethrower\Flamethrower_Default.kf2;

	[Animation]	
	Index = WEAPONANIM_DROPONDEATH; Filename = ..\Flamethrower\Flamethrower_Default.kf2;
	[Properties]
	{
		[Message] Frame = 0; String = "this->PS_StopAllEmissions( \"\" );";
		[Message] Frame = 0; String = "this->WS_Hide( " TRUE " );";
		[Message] Frame = 0; String = "this->P_CreateProjectile ( enemy_flamethrower, 1 );";
	}
}

[Attributes]
TwoHandedBones 		= YES;
TwoHandedAnimation 	= YES;
UseMultipleGunBones 	= NO;
ShootDodgeAllowed 	= YES;
AutoAimingAllowed 	= YES;
ProjectileOffset	= (0,0.06,0);

SlotIndex 	= SLOTID_FLAMETHROWER;
InventoryID 	= INVENTORYID_FLAMETHROWER;
WeaponID 	= WEAPONID_FLAMETHROWER;

Clipsize 	= FLAMETHROWER_CLIPSIZE;
Pocketsize	= FLAMETHROWER_POCKETSIZE;

MaximumShootingFrequency = FLAMETHROWER_MAXSHOOTINGFREQUENCY;
DefaultShootingFrequency = FLAMETHROWER_SHOOTINGFREQUENCY;
// [0..1] affects only player character
// when multiplier is close to 0, shooting will slow down when time slows down
// when multiplier is close to 1, shooting will happen with constant speed when time slows down 
ShootingFrequencyMultiplier		= 0.5;

UseModeSwitchAnimation = TRUE;

ReloadAmount = -1;
SidewaysAimingMultiplier = 1.0;

FOVMultiplier = 1.0;
// shakes are only applied when sniper zoom is on
ShakeLength = 0.0;
ShakeStrengthX = 0.0;
ShakeStrengthY = 0.0;
CrouchingShakeLength = 0.0;
CrouchingShakeStrengthX = 0.0;
CrouchingShakeStrengthY = 0.0;
UsesLowerActivationGroup = false;

[CrosshairAttributes]
CastLength				= CROSSHAIR_CASTLENGTH ;
SphereRadius 			= CROSSHAIR_SPHERERADIUS ;
SmallProjectile 		= TRUE ;
ScreenSizeFrontLimit	= CROSSHAIR_SIZEFRONTLIMIT ;
ScreenSizeBackLimit		= CROSSHAIR_SIZEBACKLIMIT ;

[Crosshair] 
{ 
	[Geometry] 
	ExportData = ..\crosshairs\dot.kf2;
}
