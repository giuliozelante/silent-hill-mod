<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0058)http://paynekiller.kipsta.net/showtutorial.php?id=7&page=2 -->
<HTML><HEAD><TITLE>Kipsta's PayneKiller :: Max Payne 2 Mod Resource Site</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252"><LINK 
href="npc helper2_file/style.css" type=text/css rel=stylesheet>
<SCRIPT language=Javascript type=text/javascript>
function storeCaret (textEl) {
	if (textEl.createTextRange)
		textEl.caretPos = document.selection.createRange().duplicate();
} // end fn

function addsmiley (textEl, text) {
	if (textEl.createTextRange && textEl.caretPos) {
		var caretPos = textEl.caretPos;
		caretPos.text =
			caretPos.text.charAt(caretPos.text.length - 1) == ' ' ?
			text + ' ' : text;
	} else {
		textEl.value  = textEl.value + text; // for non MSIE browsers just append it
	}

	return true;
}// fn
</SCRIPT>

<META content="MSHTML 6.00.2737.800" name=GENERATOR></HEAD>
<BODY>
<DIV align=center>
<CENTER>
<TABLE style="BORDER-COLLAPSE: collapse" height="100%" cellSpacing=0 
cellPadding=0 width=720 bgColor=#ffffff border=0>
  <TBODY>
  <TR>
    <TD width="100%" height=10><!-- SPACER --><IMG class=blank height=10 
      src="npc helper2_file/blank.gif" width=10> </TD></TR>
  <TR>
    <TD height=160><!-- FLASH MENU -->
      <OBJECT id=menu 
      codeBase='"http:/download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0/"' 
      height=160 width=720 classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000><PARAM NAME="movie" VALUE="layout/menu.swf"><PARAM NAME="quality" VALUE="High"><PARAM NAME="menu" VALUE="false">
      																								<EMBED src="layout/menu.swf" menu=false 
      quality=High WIDTH="720" HEIGHT="160" NAME="menu" 
      TYPE="application/x-shockwave-flash" 
      PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT></TD></TR>
  <TR>
    <TD vAlign=top width="100%"><IMG class=blank height=16 
      src="npc helper2_file/blank.gif" width=16> 
      <TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 height="100%" 
      cellSpacing=0 cellPadding=0 width=720 border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=10><IMG class=blank height=20 
            src="npc helper2_file/blank.gif" width=10> </TD>
          <TD class=tdmain vAlign=top width=540>
            <P>
            <CENTER>
            <TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 
            cellSpacing=3 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
                <TD>
                  <H1>Adding NPC's (AI) characters to your level!</H1>
                  <TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 
                  cellSpacing=3 cellPadding=2 width="100%" border=0>
                    <TBODY>
                    <TR>
                      <TD width="50%">Jump to page: <A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=1">1</A> 
                        <A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=2">2</A> 
                        <A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=3">3</A> 
                      </TD>
                      <TD width="50%">
                        <P align=right><A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=1">&lt; 
                        Previous page</A> | <A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=3">Next 
                        page &gt;</A></P></TD></TR></TBODY></TABLE>
                  <DIV class=hr>
                  <HR>
                  </DIV>
                  <P><SPAN class=numlist>7.</SPAN> Having done that you can 
                  <U>close that window</U> by <SPAN class=hl>pressing OK.</SPAN> 
                  Now if you like, you can save and export your map GIS'd or 
                  not. But because there are no "AI nodes" your character will 
                  stand around like a freakin' dumb idiot. He won't shoot you, 
                  but you can sure shoot him (right in the knee caps is nice). 
                  Code to make him turn bad if you get aggressive on him can be 
                  added later...</P>
                  <P>Anyhow, let's move on, from this point there are just 2 
                  more things to do over the next few steps. These include 
                  placing some AI nodes, and adding some bad-ass 
                  mutha-fuc...ers. First, let's add some badguys, it's simple 
                  enough and more or less the same as adding a friendly 
                  character.</P>
                  <P>Go to someplace out of site of you and your friendly AI/NPC 
                  character. Now <SPAN class=hl>press F3</SPAN>, locate a nice 
                  spot on the floor and <SPAN class=hl>press "N"</SPAN>, again 
                  you have the entity dialog, just create a new enemy character. 
                  When the second dialog appears... all you have to do is 
                  specify: A name (e.g. badguy1), a skin (e.g. cleaner or 
                  mobster), and then here's the important part... <SPAN 
                  class=hl>PAY ATTENTION!!!11one</SPAN>... for the group, select 
                  the "badguys" group you made earlier! If you are confuzzled 
                  have a look at my screener below.</P>
                  <P align=center><IMG src="npc helper2_file/pic7.jpg" 
                  border=0></P>
                  <DIV class=hr>
                  <HR>
                  </DIV><SPAN class=numlist>8.</SPAN> Once you <SPAN 
                  class=hl>click OK</SPAN> the dialog disappears and again you 
                  can see a blue/turquoise semi-sphere... which is your badguy. 
                  It's time for you to add a some of that sexy and lovely FSM 
                  code to make your badguy react. <SPAN class=hl>Press 
                  F5</SPAN>, and select the new enemy you just created, then 
                  <SPAN class=hl>press B</SPAN> to open the FSM dialog.
                  <P>When the dialog shows, again <SPAN class=hl>click the 
                  "startup" state</SPAN> and add the following code (what's in 
                  green, again don't forget to include the semi-colon at the end 
                  of each line ";".</P>
                  <DIV align=center>
                  <CENTER>
                  <TABLE style="BORDER-COLLAPSE: collapse" cellSpacing=3 
                  cellPadding=2 width=480 border=0>
                    <TBODY>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0><SPAN 
                        class=hl>this-&gt;AI_SetTarget(PLAYER_GROUP);</SPAN> 
                        <P>This will tell your character to target the group you 
                        made above called "PLAYER_GROUP". Basically, any new 
                        character you add to PLAYER_GROUP will be attacked by 
                        this NPC.</P></TD></TR>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0><SPAN 
                        class=hl>this-&gt;AI_SetTactic(x);</SPAN> 
                        <P>This will tell your character to take up certain 
                        combar technique, of course, the idea here is to REPLACE 
                        "x" with one of these: 
                        <P>- Combat<BR>- CoverCombat<BR>- Cover<BR>- Follow<BR>- 
                        FollowCombat<BR>- GuardCombat<BR>- Idle
                        <P>For example: 
                        this-&gt;AI_SetTactic(GuardCombat);<BR>This makes the 
                        NPC reluctant to leave the place he was created and 
                        guard it. </P></TD></TR>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0><SPAN 
                        class=hl>this-&gt;C_RemoveAllWeapons(Beretta);</SPAN> 
                        <P>This line will remove all weapons from the enemy 
                        character, and give him/her the specified weapon with 
                        unlimited ammo. In this case, a beretta.</P></TD></TR>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0><SPAN 
                        class=hl>this-&gt;C_PickupWeapon(Ingram);</SPAN> 
                        <P>This will now give your character a finite ammo 
                        weapon. In this case a bullet oozing Ingram.</P></TD></TR>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0><SPAN 
                        class=hl>this-&gt;C_PickupAmmo(Ingram,60);</SPAN> 
                        <P>This will give some ammo to your character for the 
                        weapon you just assigned him/her, again in this case, 60 
                        of Ingram ammo.</P></TD></TR>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0>The screener below 
                        shows how your code/FSM should look 
                  like...</TD></TR></TBODY></TABLE></CENTER></DIV>
                  <P align=center><IMG src="npc helper2_file/pic8.jpg" 
                  border=0></P>
                  <DIV class=hr>
                  <HR>
                  </DIV><SPAN class=numlist>9.</SPAN> That's it, you enemy has 
                  been made and again as before you can export your map and give 
                  it a go, but I'll remind you that your enemy and helper will 
                  stand there like dip-shits because they have no means of 
                  moving without <SPAN class=hl>AI nodes</SPAN>. If you decide 
                  to read on (and I urge you to), I'll guide you through the 
                  simple process of placing AI nodes.
                  <P>What is an AI node (AIN)? Simply they are like beacons or 
                  waypoints which the AI characters "see". Each node you place 
                  creates a pathway to every other node IT can see from that 
                  point. AIN's also allow AI to some extent to determine what 
                  can be used for cover. Look at the bitmaps below for examples 
                  of what I'm ranting on about. </P>
                  <BLOCKQUOTE>
                    <P>Below you can see AIN's in <SPAN class=hlb>BLUE</SPAN> 
                    there are just a few here... but see the next picture to see 
                    how they work...</P></BLOCKQUOTE>
                  <P align=center><IMG src="npc helper2_file/pic9_1.jpg" 
                  border=0></P>
                  <BLOCKQUOTE>
                    <P>Below you can see a how these nodes are linked to each 
                    other during game-play, it wont exactly be like this, since 
                    the network is inefficient. But you can see each node 
                    creates a path (indicated in red) to another node, your 
                    characters will use these paths to move around, so it's 
                    essential you place&nbsp; nodes in areas you want your 
                    characters to move (of free will).</P></BLOCKQUOTE>
                  <P align=center><IMG src="npc helper2_file/pic9_2.jpg" 
                  border=0></P>
                  <BLOCKQUOTE>
                    <P>In the picture below you can see, the <SPAN 
                    class=hlg>green arrow</SPAN> indicates where you and your 
                    NPC helper will enter the room, now, if you had specified 
                    your enemy to use "covercombat" as a tactic, the enemy will 
                    most likely fire a shot at you, then run to the pillar I 
                    have <SPAN class=hlg>circled in green</SPAN>. This is 
                    because the AI recognises the pillar as a cover point with 
                    each node placed in front of an area that will block HIM 
                    from YOU.</P></BLOCKQUOTE>
                  <P align=center><IMG src="npc helper2_file/pic9_3.jpg" 
                  border=0></P>
                  <P>When placing AIN's it's important to realise that often 
                  placing more nodes is not efficient or a good idea, but they 
                  are necessary, quick routes i.e. from corner to corner are 
                  efficient, but are very limiting. If you had an empty room 
                  with no doors, you would place a node in each corner, and one 
                  in the center of the room, since that's all you'd need. If you 
                  had a place where your enemy could take cover, place one node 
                  in front of it and one behind it. The AI will know which node 
                  will provide the best cover.</P>
                  <DIV class=hr>
                  <HR>
                  </DIV><SPAN class=numlist>10.</SPAN> With all that rambling 
                  done, placing AIN's is very easy, again locate a suitable 
                  positions in your map and then<SPAN class=hl> press F3</SPAN>, 
                  highlight a grid spot, <SPAN class=hl>press "N"</SPAN> and 
                  when the dialog pops up, <SPAN class=hl>select "AIN"</SPAN>. 
                  <SPAN class=hl>Press OK</SPAN> and you have a blue 
                  semi-sphere. At this point in time a name for each node is not 
                  important.
                  <P align=center><IMG src="npc helper2_file/pic10.jpg" 
                  border=0></P>
                  <P>One little note, is if you are making stairs, or a ramp, 
                  place an AIN at the top, the bottom and in places along the 
                  middle, each AI character can only see an AI node from it's 
                  own height down, so if you have steps and he's halfway up, and 
                  cant see the node at the top, he'll go back down the stairs. 
                  Place them at character height intervals for smooth moving up 
                  and down stairs/ramps.</P>
                  <DIV class=hr>
                  <HR>
                  </DIV><SPAN class=numlist>11.</SPAN> Gah! You know, I actually 
                  thought I'd finished this tutorial?!?? ... 5 minutes after 
                  uploading... then I realised you guys might want to know how 
                  to give yourself weapons at the beginning of the level so you 
                  can kick some badguy ass with more than a freakin Beretta. 
                  Here's how... <SPAN class=hl>Click inside your hierarchy 
                  panel</SPAN> and find <SPAN class=hl>"Player"</SPAN>, this 
                  item is never grouped into an entity or room, and is always on 
                  it's own - so it's not hard to find. <SPAN class=hl>Right 
                  click</SPAN> this item and <SPAN class=hl>select "Edit Player 
                  FSM"</SPAN>
                  <P align=center><IMG src="npc helper2_file/pic11.jpg" 
                  border=0></P>
                  <DIV class=hr>
                  <HR>
                  </DIV><SPAN class=numlist>12.</SPAN> Now you've done that, the 
                  familiar FSM dialog window/editor appears, again <SPAN 
                  class=hl>go to startup</SPAN>, and type in this code:
                  <P>&nbsp;</P>
                  <DIV align=center>
                  <CENTER>
                  <TABLE style="BORDER-COLLAPSE: collapse" cellSpacing=3 
                  cellPadding=2 width=480 border=0>
                    <TBODY>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0><SPAN 
                        class=hl>player-&gt;C_RemoveAllWeapons(Empty);</SPAN> 
                        <P>Now instead of using "this" (although you could), 
                        it's easier if you use the actual player "reference" 
                        name. This command will strip all weapons from your 
                        player at the start. Although you can specify a weapon 
                        for your player here, it will mean he/she gets unlimited 
                        ammo of the weapon you specify, so generally not a good 
                        idea.</P></TD></TR>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0><SPAN 
                        class=hl>player-&gt;C_PickupWeapon(PumpShotgun);</SPAN> 
                        <P>This line assigns your player a PUMP SHOTGUN weapon. 
                        Again, you can specify which weapon you'd like to give 
                        the player... I've just used shotgun because I like the 
                        whole pump action thing... reminds me of trinity in the 
                        lobby scene...</P></TD></TR>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0><SPAN 
                        class=hl>player-&gt;C_PickupAmmo(PumpShotgun, 
                        20);</SPAN> 
                        <P>This will give some ammo for the weapon you specified 
                        above, and I don't want to be too generous, so I'll give 
                        20 shells. Again, you specify which weapon to give ammo 
                        for, and how much of it.</P></TD></TR>
                    <TR>
                      <TD width="100%" bgColor=#f0f0f0>The screener below 
                        shows how your code/FSM should look 
                  like...</TD></TR></TBODY></TABLE></CENTER></DIV>
                  <P align=center><IMG src="npc helper2_file/pic12.jpg" 
                  border=0></P>
                  <P>That's it! You're done! All that's left now is for you to 
                  compile and play your map as you've done before in the past. 
                  As per usual, I have made available my HOIME LV2 map and the 
                  finished version as an MP2M</P>
                  <BLOCKQUOTE>
                    <P>» <A 
                    href="http://paynekiller.kipsta.net/tutorials/tutorial7/npclev.zip">To 
                    download the HOIME lv2 map click here (2.78 megs)</A></P>
                    <P>» <A 
                    href="http://paynekiller.kipsta.net/tutorials/tutorial7/npclevmod.zip">To 
                    download the MP2M mod file click here (2.3 
                  megs)</A></P></BLOCKQUOTE>
                  <P align=center><IMG src="npc helper2_file/final12.jpg" 
                  border=0></P>
                  <P></P>
                  <TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 
                  cellSpacing=3 cellPadding=2 width="100%" border=0>
                    <TBODY>
                    <TR>
                      <TD width="50%">Jump to page: <A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=1">1</A> 
                        <A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=2">2</A> 
                        <A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=3">3</A> 
                      </TD>
                      <TD width="50%">
                        <P align=right><A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=1">&lt; 
                        Previous page</A> | <A 
                        href="http://paynekiller.kipsta.net/showtutorial.php?id=7&amp;page=3">Next 
                        page 
            &gt;</A></P></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></CENTER>
            <P></P></TD>
          <TD vAlign=top width=15 
            background="npc helper2_file/sidedotsb.gif"><IMG class=blank 
            height=15 src="npc helper2_file/blank.gif" width=15> </TD>
          <TD vAlign=top width=150><!-- SIDE PANEL FOR LOGIN, BANNERS and TOOLS -->
            <FORM action=login.php method=post>
            <TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 
            cellSpacing=1 cellPadding=2 border=0>
              <TBODY>
              <TR>
                <TD width=40>User:</TD>
                <TD><INPUT size=14 name=username></TD></TR>
              <TR>
                <TD width=40>Pass:</TD>
                <TD><INPUT type=password size=14 name=password></TD></TR>
              <TR>
                <TD width=40>&nbsp;</TD>
                <TD><INPUT type=image height=16 alt="Click here to login" 
                  width=48 src="npc helper2_file/login.gif" border=0 
                name=Login></TD></TR></TBODY></TABLE>
            <TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 
            cellSpacing=1 cellPadding=2 border=0>
              <TBODY>
              <TR>
                <TD width="100%">
                  <P align=center>Don't have a user account? Get one free! <A 
                  href="http://paynekiller.kipsta.net/register.php">Click 
                  here!</A></P></TD></TR></TBODY></TABLE><INPUT type=hidden 
            value=submit name=submit> </FORM>
            <P></P><LINK href="npc helper2_file/style.css" type=text/css 
            rel=stylesheet>
            <DIV class=hr>
            <HR>
            </DIV>
            <P align=center><A href="http://www.ppawlowski.freeserve.co.uk/" 
            target=_blank><IMG class=border height=31 
            src="npc helper2_file/noodlez.gif" width=88></A> <BR><IMG 
            class=blank height=15 src="npc helper2_file/blank.gif" width=15> 
            <BR><A href="http://www.paynereactor.com/" target=_blank><IMG 
            class=border height=31 src="npc helper2_file/paynereactor.gif" 
            width=88></A> <BR><IMG class=blank height=15 
            src="npc helper2_file/blank.gif" width=15> <BR><A 
            href="http://www.3dactionplanet.com/maxpayne/" target=_blank><IMG 
            class=border height=31 src="npc helper2_file/deepsix.jpg" 
            width=88></A> <BR><IMG class=blank height=15 
            src="npc helper2_file/blank.gif" width=15> <BR><A 
            href="http://www.maxpaynesource.com/" target=_blank><IMG 
            class=border height=31 src="npc helper2_file/mpsource.jpg" 
            width=88></A></P>
            <P></P>
            <DIV class=hr>
            <HR>
            </DIV>
            <P align=center>Help me stop the pain! Donate to PayneKiller!</P>
            <P>
            <FORM action=https://www.paypal.com/cgi-bin/webscr method=post>
            <CENTER><INPUT type=hidden value=_xclick name=cmd> <INPUT 
            type=hidden value=paypal@kipsta.net name=business> <INPUT 
            type=hidden value=1 name=no_note> <INPUT type=hidden value=GBP 
            name=currency_code> <INPUT type=hidden value=0 name=tax> <INPUT 
            type=image height=31 
            alt="Donate to Paynekiller with PayPal - it's fast, free and secure!" 
            width=62 src="npc helper2_file/paypal.gif" border=0 name=I1> 
            </CENTER></FORM>
            <P></P>
            <DIV class=hr>
            <HR>
            </DIV>
            <CENTER>
            <P><B>Kipsta<BR>Recommends<BR></B>Prince of Persia and Beyond Good 
            and Evil, perfect partners on Amazon.co.uk! <A class=_blank 
            href="http://www.amazon.co.uk/exec/obidos/ASIN/B00009LW8B/kipstanet-21"><IMG 
            alt="Prince of Persia: Sands of Time (PC) - Kipsta says: FUCKIN' AWESOME GAME!" 
            hspace=3 src="npc helper2_file/amazonpopsm.jpg" vspace=3 
            border=0></A><BR>and...<BR><A class=_blank 
            href="http://www.amazon.co.uk/exec/obidos/ASIN/B0000E3GWP/kipstanet-21"><IMG 
            alt="Beyond Good and Evil - ONLY £14.99!!!! BARGAIN!" hspace=3 
            src="npc helper2_file/amazonbge.jpg" vspace=3 border=0></A><BR><A 
            class=_blank 
            href="http://www.amazon.co.uk/exec/obidos/redirect-home?tag=kipstanet-21&amp;site=amazon\">From 
            Amazon.co.uk</A> <!-- 
	<A HREF="http://www.amazon.co.uk/exec/obidos/ASIN/0744003237/kipstanet-21" class="_blank"><IMG SRC="layout/ads/amazonmpsg.jpg" border="0" alt="Max Payne 2: Official Strategy Guide (PC)" hspace="3" vspace="3"></A><br><a href="http://www.amazon.co.uk/exec/obidos/redirect-home?tag=kipstanet-21&site=amazon\" class="_blank">From Amazon.co.uk</a> 
--></P></CENTER>
            <DIV class=hr>
            <HR>
            </DIV>
            <P></P>
            <CENTER>
            <TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 
            cellSpacing=2 cellPadding=2 border=0>
              <TBODY>
              <TR>
                <TD width=120><!-- <p>There are <span class="hl">0</span> visitors browsing this page</p> -->
                  <P>There are <SPAN class=hl>2</SPAN> active visitors at this 
                  website</P></TD></TR></TBODY></TABLE></CENTER>
            <P></P></TD>
          <TD vAlign=top width=5><IMG class=blank height=10 
            src="npc helper2_file/blank.gif" width=5> </TD></TR></TBODY></TABLE></TD></TR>
  <TR>
    <TD vAlign=top width="100%" height=15>
      <DIV class=hr>
      <HR>
      </DIV></TD></TR>
  <TR>
    <TD vAlign=top width="100%" height=15>
      <DIV align=center><!-- FOOTER, can change often so is variable -->
      <P align=center><FONT color=#dc0000>Legal:</FONT> <FONT color=#808080><A 
      href="http://paynekiller.kipsta.net/">Kipsta's PayneKiller website</A>, 
      created, designed and maintained by <A 
      href="mailto:%20paynekiller@kipsta.net">Simon 'kipsta' Choo</A>. <BR>All 
      content is Copyright © 2003 by the creator; Simon Choo unless stated 
      otherwise. <BR>You may not copy or re-use any work here without the 
      express written permission of the creator.</FONT> </P>
      <P align=center><FONT color=#808080>Max Payne 2 and the Max Payne 2 logo 
      are trademarks of Take-Two Interactive Software, Inc</FONT> 
  </P></DIV></TD></TR></TBODY></TABLE></CENTER></DIV></BODY></HTML>
