<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0049)http://www.geocities.com/mr_uniq1/hudtutorial.htm -->
<HTML><HEAD><TITLE>About the Hud</TITLE>
<META http-equiv=Content-Language content=en-us>
<META content="MSHTML 6.00.2800.1106" name=GENERATOR>
<META content=FrontPage.Editor.Document name=ProgId>
<META http-equiv=Content-Type content="text/html; charset=windows-1252"></HEAD>
<BODY>
<P><FONT size=2><B>HOW TO CUSTOMIZE AND ALTER YOUR HUD BY PUPU AND 
CJ78</B><BR><BR><BR>**About hud.txt adding/removing weapons**<BR>- Don't edit 
other default strings other tthan similar strings I would explain because it 
could mess your mod if you're not <BR>sure what those strings do. They require 
advance knowledge and don't need editing.<BR>- Use the find command of your text 
editorr to search for the strings<BR><BR>All these values are found in the Hud 
text and are explained in better depth in other tutorials but this is mainly to 
teach people how Max Payne uses Hud.txt to locate the weapon images you see on 
the HUD.</FONT></P>
<P><B>FIRST THING TO REMEMBER IS THAT ALL PCX IMAGES MUST BE CONVERTED TO 256 
BITS FOR THEM TO WORK, IF THEY ARE 16 MILLION COLORS OR 8 BITS THEY WILL NOT 
WORK. THIS IS THE SAME FOR ALL HUD BITMAPS. I SUGGEST USING AN IMAGE EDITOR THAT 
HAS THIS ABILITY, SUCH AS PAINT SHOP PRO BUT THERE ARE MANY CHEAPER ALTERNATIVES 
OUT THERE.</B></P>
<P><FONT size=2><BR><B>************************HOW THE HUD IMAGES ARE LOCATED ON 
THE BITMAP************************************</B><BR><BR><B>#define U_1xOFFSET 
0.166666</B><BR>-- defines the border of the columnar assiignment of each weapon 
group<BR>-- 0.166666 is the horizontal distance froom the previous weapon hud's 
reference point.<BR>-- the default highest is 6 ( U_6xOFFSET )) but you can 
extend that up to 9 so that you can have 9 columns of 
weapons<BR><BR><BR><B>#define V_1xOFFSET 0.083333</B><BR>-- defines the border 
of the row assignmennt of each weapon<BR>-- 0.083333 is the vertical distance 
from the previous weapon hud's reference point.<BR>-- you could extend the 
number 1 in V_1xOFFFSET to any digit. But you probably don't want to hit 10x the 
number 1 key on the <BR>keyboard to use the 10th weapon on that slot 
;)<BR><BR><BR><BR>This is copied from my Hud text file...and works with my 
weapon map (shown below). There are possible differences between other people's 
weapon 
maps.<BR><B>--------------------------------------------------------------------------------------------------------------------------------------------<BR>THIS 
DEFINES THE COLUMN SPACING ON THE BITMAP:</B><BR><BR></FONT>#define U_0xOFFSET 
0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<B>&lt;-Every coloumn starts at 0</B><BR>#define U_1xOFFSET 
0.166666&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>&lt;- ".166666" is important to 
remember every value is determined by this number</B><BR>#define U_2xOFFSET 
0.333333&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>&lt;- this is basically .166666 X 
2</B><BR>#define U_3xOFFSET 
0.5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<B>&lt;-this is tricky...this is the second value that determines how the 
numbers are calculated which is&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
a multiple of 
5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</B><BR>#define U_4xOFFSET 0.666666&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<B>&lt;-this is .5 + .16666 (the base value)</B><BR>#define U_5xOFFSET 
0.833332&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>&lt;-.666666 + .166666 
</B><BR>#define U_6xOFFSET 
0.75&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<B>&lt;- .5 + .25</B><BR>#define U_7xOFFSET 
0.916666&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>&lt;- same process as 
above</B><BR><B>-------------------------------------------------------------------------------------------------------------------------<BR><FONT 
size=2>THIS DEFINES THE ROW SPACING ON THE BITMAP:</FONT></B><BR><BR>#define 
V_0xOFFSET 
0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<B>&lt;-The same process is used as above only with a few minor differences</B> 
<BR>#define V_1xOFFSET 0.083333&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>&nbsp;&lt;-this 
is the base value</B><BR>#define V_2xOFFSET 
0.166666&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>&nbsp;&lt;-this is 2 X the base 
value</B><BR>#define V_3xOFFSET 
0.25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<B>&nbsp;&lt;-.25 a multiple of 5</B><BR>#define V_4xOFFSET 
0.333333&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>&lt;-.25 + the base 
value</B><BR>#define V_5xOFFSET 0.416666 <BR>#define V_6xOFFSET 
0.5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<B>&lt;-this is .25 X 2</B><BR>#define V_7xOFFSET 0.592500<BR>#define V_8xOFFSET 
0.675<BR>#define V_9xOFFSET 
0.75&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<B>&nbsp;&lt;-.25 X 3</B> <BR>#define V_10xOFFSET 0.833333<BR>#define 
V_11xOFFSET 0.916666<BR><FONT size=2><BR>So there is a pattern to assigning the 
values. They can be changed to just about anything possibly. But even I haven't 
fully mastered this. A good way to start is to use my weapon map below for your 
own experimenting. These values work with 
it.<BR><BR><B>******************************WEAPON SLOTS AND THEIR POSITIONING 
ON THE SCREEN*******************</B><BR><BR><B>#define SLOT1_NUMBERPOSITION ( 
170, 15, 0 )</B><BR>-- defines the position of the hud in 640xx480 space (the 
numbers represent pixels)<BR>I suggest not changing these values or your weapon 
slots may appear anywhere on the 
screen.<BR><BR>--------------------------------------------------------------------------------------------------------------------------------------------<BR><B>The 
weapon group 
slots:</B><BR>[Slot]<BR>{<BR>[SlotNumberSpriteWindow]<BR>ReferencePoint = 
CENTER;<BR>Position = SLOT1_NUMBERPOSITION;<BR>Width = 
SLOTNUMBER_WIDTH;<BR>Height = SLOTNUMBER_HEIGHT;<BR>UVUpperLeft = ( 0.676666, 
0.00 , 0);<BR>UVLowerRight = ( 0.732222, 0.10 , 0);<BR><BR>This shouldn't be 
altered<BR>-----------------------------------------------------------------------------------------------------------------------------------------------<BR><B>The 
weapon slots:</B><BR>[SlotWeapon]<BR>{<BR>[WeaponSpecific]<BR>ID = 
WEAPONID_STICK;<BR><BR>[SpriteWindow]<BR>ReferencePoint = CENTER;<BR>Position = 
SLOT1_WEAPONPOSITION;<BR>Width = SLOTWEAPON_WIDTH;<BR>Height = 
SLOTWEAPON_HEIGHT;<BR>UVUpperLeft = ( U_1xOFFSET , V_0xOFFSET , 
0);<BR>UVLowerRight = ( U_2xOFFSET , V_1xOFFSET , 0);<BR>}</FONT></P>
<P><FONT size=2>This kind of string should be present for each weapon for it to 
function in the hud.<BR><BR><B>ID</B> - weapon id reference for other 
weapon-related files<BR><BR><B>Position</B> - position of the weapon at the hud. 
You could put digits here instead of SLOT1_WEAPONPOSITION if you want but you 
<BR>need to calculate it properly. Refers to #define SLOT1_NUMBERPOSITION ( 170, 
15, 0 )<BR><BR><B>Width </B>- width of the assigned slot for a weapon's hud. You 
could put digits here instead of SLOTWEAPON_WIDTH if you want but <BR>you need 
to calculate it properly. Refers to #define 
SLOTWEAPON_WIDTH<BR><BR><B>Height</B> - height of the assigned slot for a 
weapon's hud. You could put digits here instead of SLOTWEAPON_HEIGHT if you want 
<BR>but you need to calculate it properly. Refers to #define 
SLOTWEAPON_HEIGHT<BR><BR>--------------------------------------------------------------------------------------------------------------------------------------------------------<BR><B>THE 
MOST IMPORTANT VALUES UVUPPERLEFT AND UVLOWERRIGHT</B><BR><BR><B>UVUpperLeft and 
UVLowerRight</B> - These boundaries represent a weapon's image location in 
<B>WeaponHud.pcx</B> and <B>WeaponHud_alpha.pcx. </B>&nbsp;Indicate the weapon's 
location by changing the numbers in the OFFSET<BR><BR><BR>UVUpperLeft = ( 
<B>U_<FONT color=#0000ff>1</FONT>xOFFSET , V_<FONT color=#ff0000>0</FONT>xOFFSET 
, </B>0);<BR>This is the one that does all the work for you, there are only two 
numbers you need to know about here. I higlighted them in red and blue.&nbsp; 
The number in blue is the column number and the number in red is the row number. 
These refer to the<B> columns and rows</B> on your <B>WeaponHud.pcx</B>. As you 
can see below there are 4 columns are 11 rows. So the <B>sword </B>is located at 
<B><FONT color=#ff0000>ROW # 0</FONT> AND <FONT color=#0000ff>COLUMN 
0</FONT></B>.&nbsp; The <B>Moltolv</B> is located at <B><FONT 
color=#0000ff>COLUMN #1</FONT> AND <FONT color=#ff0000>ROW 
#5.</FONT></B></FONT></P>
<P><FONT size=2><B>So the code for the sword will be:&nbsp; UVUpperLeft = ( 
U_<FONT color=#0000ff>0</FONT>xOFFSET , V_<FONT color=#ff0000>0</FONT>xOFFSET , 
0);</B></FONT></P>
<P><FONT size=2><B>The code for the Moltolv will be: UVUpperLeft = ( U_<FONT 
color=#0000ff>1</FONT>xOFFSET , V_<FONT color=#ff0000>5</FONT>xOFFSET , 
0);</B></FONT></P>
<P><FONT size=2><BR><IMG height=512 src="About the Hud_file/WeaponHud_alpha.jpg" 
width=512 border=0><BR><BR>The <B>values for UVLowerRight are just +1 those for 
UVUpperLeft</B> so notice how they changed for the sword and moltolv </FONT></P>
<P><FONT size=2><BR>Moltolv:&nbsp; UVLowerRight = ( U_<B><FONT 
color=#0000ff>2</FONT></B>xOFFSET , V_<B><FONT color=#ff0000>6</FONT></B>xOFFSET 
, 0);</FONT></P>
<P><FONT size=2>Sword:&nbsp; UVLowerRight = ( U_<B><FONT 
color=#0000ff>1</FONT></B>xOFFSET , V_<B><FONT color=#ff0000>1</FONT></B>xOFFSET 
, 0);</FONT></P>
<P><FONT size=2>And just to hit it home another example, remember they are only 
+1 the highlighted values from <B>UVUpperLeft.</B></FONT></P>
<P><FONT size=2><B>UVUpperLeft = ( U_1xOFFSET , V_9xOFFSET , 0);<BR>UVLowerRight 
= ( U_2xOFFSET , V_10xOFFSET , 0)</B>&nbsp;&nbsp;&nbsp; can u guess which weapon 
this indicates on the HUD map?..........it's the SOCOM which is located above 
that large 
minigun.<BR>------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------<BR><BR><B>Weapon 
on hand:</B><BR>[ActiveWeapon]<BR>{<BR>[WeaponSpecific] <BR>id = 
WEAPONID_LEADPIPE;<BR>LowAmmunition = 
LOWAMMO_ALWAYS_VISIBLE;<BR>UnlimitedAmmoText = 
"";<BR><BR>[Sprite]<BR>ReferencePoint = DOWNRIGHT;<BR>Position = WEAPON_POSITION 
;<BR>Width = WEAPON_WIDTH ;<BR>Height = WEAPON_HEIGHT ;<BR>Filename = 
"bitmaps\weapons\leadpipe.jpg";<BR>AlphaFilename = 
"bitmaps\weapons\leadpipe_alpha.pcx"; <BR>DefaultVertexAlpha = WEAPON_ALPHA 
;<BR>}<BR><BR><BR>- Just create a similar string for each weeapon.<BR>- replace 
these with your own values<BR>&nbsp;&nbsp;&nbsp; 
WEAPONID_LEADPIPE<BR>&nbsp;&nbsp;&nbsp; leadpipe.jpg<BR>&nbsp;&nbsp;&nbsp; 
leadpipe_alpha.pcx<BR><BR>- UnlimitedAmmoText = "-"; if thhe weapon has 
ammo<BR>- UnlimitedAmmoText = ""; if thee weapon has no 
ammo<BR><BR><B>****************************************************************************************************************</B><BR><B>A 
QUESTION ASKED BY ME A LONG TIME AGO</B><BR>How do you customize the HUD in max 
payne? I want to use the one u made...even though I won't use all those weapons. 
I've added the mini, mp5ksci, dual sawed, and a rail gun...so that's about all I 
want to show up in my HUD.<BR>&nbsp;</FONT></P>
<P><FONT size=2><B>ANSWER</B><BR>I'll suggest a "tweak" instead of complicated 
recoding of many .txt files. The weapons will still be there, but their hud 
<BR>won't show. The hud you will see will just contain the weapons you want and 
organized.<BR>***use the tutorial above as reference***<BR>***use hud.txt you 
will edit as reference***<BR><BR><BR>1) list the weapons you don't want<BR>2) 
create a new vertical slot (or 2 slots, they will be your weapons' hud border) 
for the weapons you don't want. Create a <BR>new string like #define U_6xOFFSET 
0.553333<BR>3) create a new slot number position (position in 640x480 space) 
like:<BR>***the slot number must be the same with 4) ***<BR><BR>#define 
SLOT1_NUMBERPOSITION ( 170, 15, 0 )<BR><BR>4) create a new slot weapon position 
like:<BR>***the slot number must be the same with 3) ***<BR><BR>#define 
SLOT1_WEAPONPOSITION ( 170, 40, 0 )<BR><BR>5) create a new weapon group slot 
like: <BR><BR>[Slot]<BR>{<BR>[SlotNumberSpriteWindow]<BR>ReferencePoint = 
CENTER;<BR>Position = SLOT1_NUMBERPOSITION;<BR>Width = 
SLOTNUMBER_WIDTH;<BR>Height = SLOTNUMBER_HEIGHT;<BR>UVUpperLeft = ( 0.676666, 
0.00 , 0);<BR>UVLowerRight = ( 0.732222, 0.10 , 0);<BR><BR>calculate your own ( 
?, ? , 0) for the weapon group's<BR>Don't put } yet<BR><BR>6) move the weapons' 
slot strings under the newly created weapon group 
slot<BR>example:<BR><BR>[SlotWeapon]<BR>{<BR>[WeaponSpecific]<BR>ID = 
WEAPONID_STICK;<BR><BR>[SpriteWindow]<BR>ReferencePoint = CENTER;<BR>Position = 
SLOT1_WEAPONPOSITION;<BR>Width = SLOTWEAPON_WIDTH;<BR>Height = 
SLOTWEAPON_HEIGHT;<BR>UVUpperLeft = ( U_1xOFFSET , V_0xOFFSET , 
0);<BR>UVLowerRight = ( U_2xOFFSET , V_1xOFFSET , 0);<BR>}<BR><BR>7) after you 
moved all the weapons' slot strings to the newly created weapon group slot, edit 
all their:<BR><BR>UVUpperLeft = ( U_1xOFFSET , V_0xOFFSET , 0);<BR>UVLowerRight 
= ( U_2xOFFSET , V_1xOFFSET , 0);<BR><BR>ALL ( U_1xOFFSET , V_0xOFFSET , 0) 
SHOULD point to the black color on WeaponHud.pcx and 
WeaponHud_alpha.pcx<BR><BR>8) put the } to close the weapon group slot's 
string<BR>such that the last weapon's slot string will look 
like:<BR><BR>[SlotWeapon]<BR>{<BR>[WeaponSpecific]<BR>ID = 
WEAPONID_LEADPIPE;<BR><BR>[SpriteWindow]<BR>ReferencePoint = CENTER;<BR>Position 
= SLOT1_WEAPONPOSITION;<BR>Width = SLOTWEAPON_WIDTH;<BR>Height = 
SLOTWEAPON_HEIGHT;<BR>UVUpperLeft = ( U_0xOFFSET , V_0xOFFSET , 
0);<BR>UVLowerRight = ( U_1xOFFSET , V_1xOFFSET , 0);<BR>}<BR>}<BR><BR>9) save 
the new hud.txt<BR>10) open and edit database\weaponid.h with notepad or any 
editor<BR>replace the number of the slot ID for those weapons (this is the 
number in the keyboard that you presses to choose the <BR>weapons)<BR>***the 
slot ID for ALL those weapons must be the SAME and is 1 digit less than the slot 
number that you created for 3) <BR>and 4) ***<BR>the slot ID looks 
like:<BR><BR>#define SLOTID_BERETTA 1<BR><BR>10) save the new weaponid.h<BR>11) 
you don't need to edit or delete any other file<BR>12) save the new 
hud.txt<BR>13) make the .mpm and test your new hud<BR><BR>When adding/removing 
weapons, check if the weapon is indexed properly at:<BR>1) 
database\skins\max_payne.txt<BR>2) database\skeletons\default_skeleton.txt<BR>3) 
database\skeletons\pigrat.txt<BR>4) database\characteranimid.h<BR>5) 
database\shooting.h<BR>6) database\weaponid.h<BR><BR>7) weapon name.txt<BR>8) 
weapon name folder<BR><BR>Additional indexes should be added depending on the 
complication of the feature you want for the weapon, such as:<BR>1) sounds<BR>2) 
projectiles<BR>3) decals<BR>4) particles<BR>5) level items<BR>6) animation<BR>7) 
etc.<BR><BR>I hope this answers all your questions regarding weapons 
HUDS.<BR>&nbsp;</FONT></P><!-- text below generated by server. PLEASE REMOVE --></OBJECT></LAYER>
<DIV></DIV></SPAN></STYLE></NOSCRIPT></TABLE></SCRIPT></APPLET>
<SCRIPT 
language=JavaScript>var PUpage="76001055"; var PUprop="geocities"; </SCRIPT>

<SCRIPT language=JavaScript src="About the Hud_file/pu5geo.js"></SCRIPT>

<SCRIPT language=JavaScript src="About the Hud_file/ygIELib9.js"></SCRIPT>

<SCRIPT language=JavaScript>var yviContents='http://us.toto.geo.yahoo.com/toto?s=76001055&l=NE&b=1&t=1067275395';yviR='us';yfiEA(0);</SCRIPT>

<SCRIPT language=JavaScript src="About the Hud_file/mc.js"></SCRIPT>

<SCRIPT language=JavaScript src="About the Hud_file/geov2.js"></SCRIPT>

<SCRIPT language=javascript>geovisit();</SCRIPT>
<NOSCRIPT><IMG height=1 alt=setstats src="About the Hud_file/visit.gif" width=1 
border=0></NOSCRIPT> <IMG height=1 alt=1 src="About the Hud_file/serv.gif" 
width=1> <!-- w32.geo.scd.yahoo.com compressed/chunked Mon Oct 27 09:23:15 PST 2003 --></BODY></HTML>
